/**
 * sidenotes.js - version 1.2.1
 *
 * https://github.com/bcorreia/sidenotes.js.git
 * Bruno Correia - mail@bcorreia.com
 *
 */
var Sidenotes=function(){"use strict";function a(b){var c={},d=function(b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&("[object Object]"===Object.prototype.toString.call(b[d])?c[d]=a(c[d],b[d]):c[d]=b[d])};d(arguments[0]);for(var e=1;e<arguments.length;e++){var f=arguments[e];d(f)}return c}function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function c(a,b){for(var c in b)a.style[c]=b[c]}var d={translate:"400px",transition:".5s",onBefore:function(){},onAfter:function(){}},e=function(a,b){Array.prototype.forEach.call(a,b)},f={open:function(a){var d=this.settings,e=document.querySelector("body > .sidenote")||document.createElement("div"),f='<a href="#" class="text-hide -close">Close</a>',g=function(){return document.body.removeEventListener("transitionend",g,!1),d.onAfter("open",e)}.bind(this);return c(document.body,{overflow:"hidden","-webkit-transform":"translateX(-"+d.translate+")","-moz-transform":"translateX(-"+d.translate+")",transform:"translateX(-"+d.translate+")",transition:"all "+d.transition}),e.className="sidenote",c(e,{position:"fixed",top:window.scrollY+"px",right:0,height:"100vh",width:d.translate,"-webkit-transform":"translateX("+d.translate+")","-moz-transform":"translateX("+d.translate+")",transform:"translateX("+d.translate+")"}),navigator.userAgent.match(/Chrome|Firefox/)||window.addEventListener("scroll",b(function(){e.style.top=window.scrollY+"px"},100),!1),e.innerHTML='<div class="-inner">'+f+"<p>"+a+"</p></div>",document.body.insertBefore(e,document.body.firstChild),e.querySelector(".-close").addEventListener("click",function(a){a.preventDefault(),this.close(e)}.bind(this)),document.body.addEventListener("transitionend",g,!1),this.settings.onBefore("open",e)},close:function(a){var b=function(){return document.body.style.cssText="",document.body.removeEventListener("transitionend",b,!1),this.settings.onAfter("close",a)}.bind(this);return c(document.body,{"-webkit-transform":"translateX(0)","-moz-transform":"translateX(0)",transform:"translateX(0)"}),document.body.addEventListener("transitionend",b,!1),this.settings.onBefore("close",a)}};return Sidenotes=function(b,c){var g=a(d,c||{}),h=b.querySelectorAll("[data-sidenote]"),i=function(a){a.preventDefault();var b=this.getAttribute("data-sidenote"),c=Object.create(f,{settings:{value:g},note:{value:b}});c.open(b)};e(h,function(a){a.addEventListener("click",i)})}}();