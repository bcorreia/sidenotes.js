/**
 * sidenotes.js - version 1.0.0
 *
 * https://github.com/bcorreia/sidenotes.js.git
 * Bruno Correia - mail@bcorreia.com
 *
 */
var Sidenotes=function(){"use strict";function a(b){var c={},d=function(b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&("[object Object]"===Object.prototype.toString.call(b[d])?c[d]=a(c[d],b[d]):c[d]=b[d])};d(arguments[0]);for(var e=1;e<arguments.length;e++){var f=arguments[e];d(f)}return c}var b={onBefore:function(){},onAfter:function(){}},c=function(a,b){Array.prototype.forEach.call(a,b)},d={html:document.querySelector("html"),open:function(a){var b=document.querySelector("body > .sidenote")||document.createElement("div"),c='<a href="#" class="text-hide close">Close</a>',d=function(){return document.body.removeEventListener("transitionend",d,!1),this.settings.onAfter("open",b)}.bind(this);return this.html.className="sidenote-open",b.className="sidenote",b.style.top=window.scrollY+"px",b.innerHTML='<div class="-inner">'+c+"<p>"+a+"</p></div>",document.body.insertBefore(b,document.body.firstChild),b.querySelector(".close").addEventListener("click",function(a){a.preventDefault(),this.close(b)}.bind(this)),document.body.addEventListener("transitionend",d,!1),this.settings.onBefore("open",b)},close:function(a){var b=function(){return this.html.classList.remove("sidenote-open","sidenote-close"),document.body.removeEventListener("transitionend",b,!1),this.settings.onAfter("close",a)}.bind(this);return document.body.addEventListener("transitionend",b,!1),this.html.classList.add("sidenote-close"),this.settings.onBefore("close",a)}};return Sidenotes=function(e,f){var g=a(b,f||{}),h=e.querySelectorAll("[data-sidenote]"),i=function(){this.addEventListener("click",function(a){a.preventDefault();var b=this.getAttribute("data-sidenote"),c=Object.create(d,{settings:{value:g},note:{value:b}});c.open(b)})};c(h,function(a){i.call(a)})}}();