/**
 * sidenotes.js - version 1.3.0
 *
 * https://github.com/bcorreia/sidenotes.js.git
 * Bruno Correia - mail@bcorreia.com
 *
 */
var Sidenotes=function(){"use strict";function a(a,b){var c=Object.create(a);return Object.keys(b).map(function(a){a in c&&(c[a]=b[a])}),c}function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function c(a,b){for(var c in b)a.style[c]=b[c]}var d={orientation:"right",duration:".5s",width:{"992px":"35vw","768px":"50vw","default":"100vw"},onBefore:function(){},onAfter:function(){}},e={open:function(a){var d,e=this.settings,f=e.width["default"];for(var g in e.width)if(window.matchMedia("(min-width: "+g+")").matches){f=e.width[g];break}var h=document.querySelector("body > .sidenote")||document.createElement("div"),i='<a href="#" class="text-hide -close">Close</a>',j=function(){return document.body.removeEventListener("transitionend",j,!1),e.onAfter("open",h)}.bind(this);return d="right"===e.orientation?"-":"",c(document.body,{overflow:"hidden","-webkit-transform":"translateX("+d+f+")","-moz-transform":"translateX("+d+f+")",transform:"translateX("+d+f+")",transition:"all "+e.duration}),h.className="sidenote",d="","right"===e.orientation?h.style.right=0:d="-",c(h,{position:"fixed",top:window.scrollY+"px",height:"100vh",width:f,"-webkit-transform":"translateX("+d+f+")","-moz-transform":"translateX("+d+f+")",transform:"translateX("+d+f+")"}),navigator.userAgent.match(/Chrome|Firefox/)||window.addEventListener("scroll",b(function(){h.style.top=window.scrollY+"px"},100),!1),h.innerHTML='<div class="-inner">'+i+"<p>"+a+"</p></div>",document.body.insertBefore(h,document.body.firstChild),h.querySelector(".-close").addEventListener("click",function(a){a.preventDefault(),this.close(h)}.bind(this)),document.body.addEventListener("transitionend",j,!1),this.settings.onBefore("open",h)},close:function(a){var b=function(){return document.body.style.cssText="",document.body.removeEventListener("transitionend",b,!1),this.settings.onAfter("close",a)}.bind(this);return c(document.body,{"-webkit-transform":"translateX(0)","-moz-transform":"translateX(0)",transform:"translateX(0)"}),document.body.addEventListener("transitionend",b,!1),this.settings.onBefore("close",a)}},f=function(a,b){Array.prototype.forEach.call(a,b)};return Sidenotes=function(b,c){var g=a(d,c||{}),h=b.querySelectorAll("[data-sidenote]"),i=Object.create(e,{settings:{value:g}});h&&f(h,function(a){a.addEventListener("click",function(a){a.preventDefault();var b=this.getAttribute("data-sidenote");i.open(b)})})}}();