/**
 * sidenotes.js - version 1.2.3
 *
 * https://github.com/bcorreia/sidenotes.js.git
 * Bruno Correia - mail@bcorreia.com
 *
 */
var Sidenotes=function(){"use strict";function a(a,b){var c=Object.create(a);return Object.keys(b).map(function(a){a in c&&(c[a]=b[a])}),c}function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function c(a,b){for(var c in b)a.style[c]=b[c]}var d={translate:{"1200px":"33.3vw","992px":"45vw","768px":"60vw","default":"100vw"},"transition-duration":".5s",onBefore:function(){},onAfter:function(){}},e={open:function(a){var d=this.settings,e=d.translate["default"];for(var f in d.translate)if(window.matchMedia("(min-width: "+f+")").matches){e=d.translate[f];break}var g=document.querySelector("body > .sidenote")||document.createElement("div"),h='<a href="#" class="text-hide -close">Close</a>',i=function(){return document.body.removeEventListener("transitionend",i,!1),d.onAfter("open",g)}.bind(this);return c(document.body,{overflow:"hidden","-webkit-transform":"translateX(-"+e+")","-moz-transform":"translateX(-"+e+")",transform:"translateX(-"+e+")",transition:"all "+d["transition-duration"]}),g.className="sidenote",c(g,{position:"fixed",top:window.scrollY+"px",right:0,height:"100vh",width:e,"-webkit-transform":"translateX("+e+")","-moz-transform":"translateX("+e+")",transform:"translateX("+e+")"}),navigator.userAgent.match(/Chrome|Firefox/)||window.addEventListener("scroll",b(function(){g.style.top=window.scrollY+"px"},100),!1),g.innerHTML='<div class="-inner">'+h+"<p>"+a+"</p></div>",document.body.insertBefore(g,document.body.firstChild),g.querySelector(".-close").addEventListener("click",function(a){a.preventDefault(),this.close(g)}.bind(this)),document.body.addEventListener("transitionend",i,!1),this.settings.onBefore("open",g)},close:function(a){var b=function(){return document.body.style.cssText="",document.body.removeEventListener("transitionend",b,!1),this.settings.onAfter("close",a)}.bind(this);return c(document.body,{"-webkit-transform":"translateX(0)","-moz-transform":"translateX(0)",transform:"translateX(0)"}),document.body.addEventListener("transitionend",b,!1),this.settings.onBefore("close",a)}},f=function(a,b){Array.prototype.forEach.call(a,b)};return Sidenotes=function(b,c){var g=a(d,c||{}),h=b.querySelectorAll("[data-sidenote]"),i=Object.create(e,{settings:{value:g}});h&&f(h,function(a){a.addEventListener("click",function(a){a.preventDefault();var b=this.getAttribute("data-sidenote");i.open(b)})})}}();